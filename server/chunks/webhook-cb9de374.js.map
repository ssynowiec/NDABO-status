{"version":3,"file":"webhook-cb9de374.js","sources":["../../../.svelte-kit/adapter-node/chunks/webhook.js"],"sourcesContent":["import fs from \"fs-extra\";\nimport { p as public_env } from \"./shared-server.js\";\nimport { P as ParseUptime } from \"./helpers.js\";\nimport { G as GetNowTimestampUTC, a as GetMinuteStartTimestampUTC, b as GetMinuteStartNowTimestampUTC } from \"./tool.js\";\nimport { c as GetStartTimeFromBody, d as GetEndTimeFromBody } from \"./github.js\";\nimport Randomstring from \"randomstring\";\nconst API_TOKEN = process.env.API_TOKEN;\nconst API_IP = process.env.API_IP;\nconst GetAllTags = function() {\n  let tags = [];\n  let monitors = [];\n  try {\n    monitors = JSON.parse(fs.readFileSync(public_env.PUBLIC_KENER_FOLDER + \"/monitors.json\", \"utf8\"));\n    tags = monitors.map((monitor) => monitor.tag);\n  } catch (err) {\n    return [];\n  }\n  return tags;\n};\nconst CheckIfValidTag = function(tag) {\n  let tags = [];\n  let monitors = [];\n  try {\n    monitors = JSON.parse(fs.readFileSync(public_env.PUBLIC_KENER_FOLDER + \"/monitors.json\", \"utf8\"));\n    tags = monitors.map((monitor) => monitor.tag);\n    if (tags.indexOf(tag) == -1) {\n      throw new Error(\"not a valid tag\");\n    }\n  } catch (err) {\n    return false;\n  }\n  return true;\n};\nconst auth = function(request) {\n  const authHeader = request.headers.get(\"authorization\");\n  const authToken = authHeader.replace(\"Bearer \", \"\");\n  let ip = \"\";\n  try {\n    if (request.headers.get(\"x-forwarded-for\") !== null) {\n      ip = request.headers.get(\"x-forwarded-for\").split(\",\")[0];\n    } else if (request.headers.get(\"x-real-ip\") !== null) {\n      ip = request.headers.get(\"x-real-ip\");\n    } else if (request.connection && request.connection.remoteAddress !== null) {\n      ip = request.connection.remoteAddress;\n    } else if (request.socket && request.socket.remoteAddress !== null) {\n      ip = request.socket.remoteAddress;\n    }\n  } catch (err) {\n    console.log(\"IP Not Found \" + err.message);\n  }\n  if (authToken !== API_TOKEN) {\n    return new Error(\"invalid token\");\n  }\n  if (API_IP !== void 0 && ip != \"\" && ip !== API_IP) {\n    return new Error(\"invalid ip\");\n  }\n  return null;\n};\nconst store = function(data) {\n  const tag = data.tag;\n  const resp = {};\n  if (data.status === void 0 || [\"UP\", \"DOWN\", \"DEGRADED\"].indexOf(data.status) === -1) {\n    return { error: \"status missing\", status: 400 };\n  }\n  if (data.latency === void 0 || isNaN(data.latency)) {\n    return { error: \"latency missing or not a number\", status: 400 };\n  }\n  if (data.timestampInSeconds !== void 0 && isNaN(data.timestampInSeconds)) {\n    return { error: \"timestampInSeconds not a number\", status: 400 };\n  }\n  if (data.timestampInSeconds === void 0) {\n    data.timestampInSeconds = GetNowTimestampUTC();\n  }\n  data.timestampInSeconds = GetMinuteStartTimestampUTC(data.timestampInSeconds);\n  resp.status = data.status;\n  resp.latency = data.latency;\n  resp.type = \"webhook\";\n  let timestamp = GetMinuteStartNowTimestampUTC();\n  try {\n    if (data.timestampInSeconds > timestamp) {\n      throw new Error(\"timestampInSeconds is in future\");\n    }\n    if (timestamp - data.timestampInSeconds > 90 * 24 * 60 * 60) {\n      throw new Error(\"timestampInSeconds is older than 90days\");\n    }\n  } catch (err) {\n    return { error: err.message, status: 400 };\n  }\n  if (!CheckIfValidTag(tag)) {\n    return { error: \"invalid tag\", status: 400 };\n  }\n  let monitors = JSON.parse(fs.readFileSync(public_env.PUBLIC_KENER_FOLDER + \"/monitors.json\", \"utf8\"));\n  const monitor = monitors.find((monitor2) => monitor2.tag === tag);\n  let day0 = {};\n  day0[data.timestampInSeconds] = resp;\n  fs.writeFileSync(public_env.PUBLIC_KENER_FOLDER + `/${monitor.folderName}.webhook.${Randomstring.generate()}.json`, JSON.stringify(day0, null, 2));\n  return { status: 200, message: \"success at \" + data.timestampInSeconds };\n};\nconst GHIssueToKenerIncident = function(issue) {\n  let issueLabels = issue.labels.map((label) => {\n    return label.name;\n  });\n  let tagsAvailable = GetAllTags();\n  let commonTags = tagsAvailable.filter((tag) => issueLabels.includes(tag));\n  let resp = {\n    createdAt: Math.floor(new Date(issue.created_at).getTime() / 1e3),\n    //in seconds\n    closedAt: issue.closed_at ? Math.floor(new Date(issue.closed_at).getTime() / 1e3) : null,\n    title: issue.title,\n    tags: commonTags,\n    incidentNumber: issue.number\n  };\n  resp.startDatetime = GetStartTimeFromBody(issue.body);\n  resp.endDatetime = GetEndTimeFromBody(issue.body);\n  let body = issue.body;\n  body = body.replace(/\\[start_datetime:(\\d+)\\]/g, \"\");\n  body = body.replace(/\\[end_datetime:(\\d+)\\]/g, \"\");\n  resp.body = body.trim();\n  resp.impact = null;\n  if (issueLabels.includes(\"incident-down\")) {\n    resp.impact = \"DOWN\";\n  } else if (issueLabels.includes(\"incident-degraded\")) {\n    resp.impact = \"DEGRADED\";\n  }\n  resp.isMaintenance = false;\n  if (issueLabels.includes(\"maintenance\")) {\n    resp.isMaintenance = true;\n  }\n  resp.isIdentified = false;\n  resp.isResolved = false;\n  if (issueLabels.includes(\"identified\")) {\n    resp.isIdentified = true;\n  }\n  if (issueLabels.includes(\"resolved\")) {\n    resp.isResolved = true;\n  }\n  return resp;\n};\nconst ParseIncidentPayload = function(payload) {\n  let startDatetime = payload.startDatetime;\n  let endDatetime = payload.endDatetime;\n  let title = payload.title;\n  let body = payload.body || \"\";\n  let tags = payload.tags;\n  let impact = payload.impact;\n  let isMaintenance = payload.isMaintenance;\n  let isIdentified = payload.isIdentified;\n  let isResolved = payload.isResolved;\n  if (startDatetime && typeof startDatetime !== \"number\") {\n    return { error: \"Invalid startDatetime\" };\n  }\n  if (endDatetime && (typeof endDatetime !== \"number\" || endDatetime <= startDatetime)) {\n    return { error: \"Invalid endDatetime\" };\n  }\n  if (!title || typeof title !== \"string\") {\n    return { error: \"Invalid title\" };\n  }\n  if (!tags || !Array.isArray(tags) || tags.length === 0 || tags.some((tag) => typeof tag !== \"string\")) {\n    return { error: \"Invalid tags\" };\n  }\n  if (body && typeof body !== \"string\") {\n    return { error: \"Invalid body\" };\n  }\n  if (impact && (typeof impact !== \"string\" || [\"DOWN\", \"DEGRADED\"].indexOf(impact) === -1)) {\n    return { error: \"Invalid impact\" };\n  }\n  const allTags = GetAllTags();\n  if (tags.some((tag) => allTags.indexOf(tag) === -1)) {\n    return { error: \"Unknown tags\" };\n  }\n  if (isMaintenance && typeof isMaintenance !== \"boolean\") {\n    return { error: \"Invalid isMaintenance\" };\n  }\n  let githubLabels = [\"incident\"];\n  tags.forEach((tag) => {\n    githubLabels.push(tag);\n  });\n  if (impact) {\n    githubLabels.push(\"incident-\" + impact.toLowerCase());\n  }\n  if (isMaintenance) {\n    githubLabels.push(\"maintenance\");\n  }\n  if (isResolved !== void 0 && isResolved === true) {\n    githubLabels.push(\"resolved\");\n  }\n  if (isIdentified !== void 0 && isIdentified === true) {\n    githubLabels.push(\"identified\");\n  }\n  if (startDatetime)\n    body = body + ` [start_datetime:${startDatetime}]`;\n  if (endDatetime)\n    body = body + ` [end_datetime:${endDatetime}]`;\n  return { title, body, githubLabels };\n};\nconst GetMonitorStatusByTag = function(tag) {\n  if (!CheckIfValidTag(tag)) {\n    return { error: \"invalid tag\", status: 400 };\n  }\n  const resp = {\n    status: null,\n    uptime: null,\n    lastUpdatedAt: null\n  };\n  let monitors = JSON.parse(fs.readFileSync(public_env.PUBLIC_KENER_FOLDER + \"/monitors.json\", \"utf8\"));\n  const { path0Day } = monitors.find((monitor) => monitor.tag === tag);\n  const dayData = JSON.parse(fs.readFileSync(path0Day, \"utf8\"));\n  const lastUpdatedAt = Object.keys(dayData)[Object.keys(dayData).length - 1];\n  const lastObj = dayData[lastUpdatedAt];\n  resp.status = lastObj.status;\n  let ups = 0;\n  let downs = 0;\n  let degradeds = 0;\n  for (const timestamp in dayData) {\n    const obj = dayData[timestamp];\n    if (obj.status == \"UP\") {\n      ups++;\n    } else if (obj.status == \"DEGRADED\") {\n      degradeds++;\n    } else if (obj.status == \"DOWN\") {\n      downs++;\n    }\n  }\n  resp.uptime = ParseUptime(ups + degradeds, ups + degradeds + downs);\n  resp.lastUpdatedAt = Number(lastUpdatedAt);\n  return { status: 200, ...resp };\n};\nexport {\n  GHIssueToKenerIncident as G,\n  ParseIncidentPayload as P,\n  auth as a,\n  GetMonitorStatusByTag as b,\n  store as s\n};\n"],"names":[],"mappings":"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"}